{% extends 'base.html' %}
{% load static %}

{% block content %}
{% include 'partials/top_main_nav.html' %}

<!-- <h2 class="text-center">Product details page</h2> -->

<div class="container px-4 px-lg-5 my-3">
    <div class="row gx-4 gx-lg-5 align-items-start">
        <div class="col-md-6">
            <div class="detail-image-container">
                {% if product.image %}
                <a href="{{ product.image.url }}" target="_blank">
                <img class="card-img-top mb-5 mb-md-0" src="{{ product.image.url }}" alt="..." />
                </a>
                {% else %}
                <a href="">
                    <img class="card-img-top mb-5 mb-md-0" src="{{ MEDIA_URL }}noimage.png"  alt="..." />

                </a>
                {% endif %}

            </div>

            </div>
        <div class="col-md-6">
            <a href="" class="btn btn-dark rounded-0 mt-3" id="wish">add to wishlist <i class="bi bi-suit-heart-fill"></i></a>
            <div class="small mb-1 mt-1">Item No: {{product.item_no}}</div>
            <h1 class="display-5 fw-bolder">{{ product.name }}</h1>
            <div class="fs-5 mb-3">
                <span class="text-success fw-bold">â‚¬ {{product.price}}</span>

            </div>

            <p class="lead">{{ product.description }}</p>
                <div class="handle">handle material: <strong>{{ product.handlematerial }}</strong></div>
                <div class="blade">blade length:<strong>{{ product.bladelength }} cm</strong></div>
                <!-- hidden inputs for ajax call -->
                <input type="hidden" class="product-id" value="{{ product.id }}" >
                <input type="hidden" class="product-image" value="{{ product.image.url }}" >
                <input type="hidden" class="product-price" value="{{ product.price }}">
                <!-- end  -->
                <div class="counter">
                    <form class="form" method="POST">
                        {% csrf_token %}
                        <input type="hidden" id="csrf_token" value="{{ csrf_token }}">
                        <div class="form-row">
                            <div class="col-12">
                                <p class="mt-3"><strong>Quantity:</strong></p>
                                <div class="error-qty"></div>
                                <div class="form-group w-50">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <button class="decrement-qty btn btn-danger rounded-0"
                                                data-item_id="{{ product.id }}" id="decrement-qty_{{ product.id }}">
                                                <span class="icon">
                                                    <i class="fas fa-minus"></i>
                                                </span>
                                            </button>
                                        </div>
                                        <input class="form-control qty_input product-qty" type="number"
                                            name="quantity" value="1" min="1" max="10"
                                            data-item_id="{{ product.id }}"
                                            id="id_qty_{{ product.id }}">
                                        <div class="input-group-append">
                                            <button class="increment-qty btn btn-success rounded-0"
                                                data-item_id="{{ product.id }}" id="increment-qty_{{ product.id }}">
                                                <span class="icon">
                                                    <i class="fas fa-plus"></i>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col{% if s %}-12 mt-2{% endif %}">

                                <a href="" class="btn btn-secondary rounded-0 mt-3">
                                    <span class="icon">
                                        <i class="fas fa-chevron-left"></i>
                                    </span>
                                    <span class="text-uppercase"> Shop</span>
                                </a>

                                <button type="button" id="addToCartBtn"  class="btn btn-success flex-shrink-0 text-uppercase mt-3">
                                    <i class="bi-cart-fill me-1"></i>
                                    Add to cart</button>
                            </div>
                            <input type="hidden" name="redirect_url" value="{{ request.path }}">
                        </div>
                    </form>

                </div>

        </div>
    </div>
</div>
<!-- </section> -->
<!-- reviews -->
<div class="container-fluid">
    <div class="d-flex justify-content-center row">
        <div class="d-flex flex-column col-md-8">
            <div class=" text-center comment-top p-2 bg-light border-bottom px-4">
                <h3>reviews</h3>
            </div>
            <div class="coment-bottom bg-white p-2 px-4">
                <div class="d-flex flex-row add-comment-section mt-4 mb-4">
                    <input type="text" class="form-control mr-3 w-50" placeholder="Add comment"><button class="btn btn-primary" type="button">Comment</button></div>
                <div class="commented-section mt-2">
                    <div class="d-flex flex-row align-items-center commented-user">
                        <h5 class="mr-2">Corey oates</h5><span class="dot mb-1"></span><span class="mb-1 ml-2">4 hours ago</span></div>
                    <div class="comment-text-sm"><span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</span></div>

                </div>

            </div>
        </div>
 </div>
</div>






{% endblock %}

{% block postload_js%}
{{ block.super }}

{% include 'partials/quantity_input_script.html' %}

{% endblock %}